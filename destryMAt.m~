% Destroying networks
t = [];
for N = 10:10:1000
    tic;
    p = 0.2;
    A = rand(N)<p;
    B = randi(N, N);
    B(~A)=0;
    A = B;
    A = A - diag(diag(A));
    parfor ij = 1:100
       
        seq = nodes;
    end
    t(end+1) = toc;
end
plot(10:10:1000,t)


function seq = destroy(A)
i = randi(10,1);
nodes = 1:N;
seq = [];
for k = 1:N-1
    try
        seq(end+1) = nodes(i);
    catch
        wtf = 0;
    end
    nodes(i) = [];
    prob = A(i,:);
    prob(i) = [];
    if any(prob)
        j = randsample(numel(prob), 1, true, prob);
    else
        j = randsample(numel(nodes), 1);
    end
    A(i,:)=[];
    A(:,i)=[];
    i=j;
end